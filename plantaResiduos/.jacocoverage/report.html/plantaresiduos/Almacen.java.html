<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Almacen.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;plantaResiduos&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">plantaresiduos</a> &gt; <span class="el_source">Almacen.java</span></div><h1>Almacen.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package plantaresiduos;

import java.io.IOException;
import java.util.HashSet;
import java.util.LinkedHashSet;
import java.util.Scanner;

/**
 *
 *  @author Raquel Pérez, Sergio Arrey y Paula Estrada. Desarrollo de aplicaciones Web 1.
 */
public class Almacen {

    static LinkedHashSet&lt;Residuo&gt; getResiduos;
<span class="fc" id="L20">     Scanner Entrada=new Scanner(System.in); </span>
    
    private int id, capacidad;
    private String nombre, ubicacion;
    public LinkedHashSet&lt;Residuo&gt; residuos;
    private HashSet&lt;Trabajador&gt; trabajadores;
    private HashSet&lt;Vehiculo&gt; vehiculos;
    /**
     * Constructor de almacen.
     * @param id - identificador del almancen.
     * @param capacidad - capacidad máxima del mismo.
     * @param nombre - nombre del almacen.
     * @param ubicacion - ubicación del almacen.
     */
<span class="fc" id="L34">    public Almacen(int id, int capacidad, String nombre, String ubicacion) throws Exception {</span>
<span class="pc bpc" id="L35" title="1 of 2 branches missed.">        if(id&lt;0){</span>
<span class="nc" id="L36">            throw new Exception(&quot;El id ha de ser mayor de 0.&quot;);</span>
<span class="fc" id="L37">        } else this.id = id;</span>
<span class="pc bpc" id="L38" title="1 of 2 branches missed.">        if (capacidad&gt;200){</span>
<span class="nc" id="L39">            throw new Exception(&quot;La capacidad máxima el 200&quot;);</span>
        }
<span class="fc" id="L41">        else this.capacidad = capacidad;</span>
<span class="pc bpc" id="L42" title="1 of 2 branches missed.">        if (nombre.length()&gt;20){</span>
<span class="nc" id="L43">            throw new Exception(&quot;El nombre no puede tener mas de 20 caracteres&quot;);</span>
        }
<span class="fc" id="L45">        else this.nombre = nombre;</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">        if (this.ubicacion.length()&gt;20){</span>
<span class="nc" id="L47">            throw new Exception(&quot;La ubicación no puede tener mas de 20 caracteres&quot;);</span>
        }
<span class="nc" id="L49">        else this.ubicacion= ubicacion;</span>
<span class="nc" id="L50">        residuos=new LinkedHashSet&lt;&gt;();</span>
<span class="nc" id="L51">        trabajadores=new HashSet&lt;&gt;();</span>
<span class="nc" id="L52">        vehiculos=new HashSet&lt;&gt;();</span>
<span class="nc" id="L53">    }</span>
    /**
     * Método para añadir residuos al almacen.
     * @param id - id para el objeto residuo.
     * @param estado - estado del mismo. 'F' para residuos finales, 'R' para recuperables e 'I' para indeterminados.
     * @param desc - descripción del mismo.
     */
    public void anadirResiduo(int id, char estado, String desc) throws Exception{
       
<span class="nc" id="L62">        Residuo r=new Residuo(id, estado, desc);</span>
        //Tras instanciar el residuo, lo añadimos a la lista de residuos que hay en el almacen.
<span class="nc" id="L64">        residuos.add(r);</span>
<span class="nc" id="L65">    }</span>
    /**
     * Método para obtener una lista de todos los residuos, mediante el método toString desarrollado en la clase residuo.
     */
    public void listarResiduos(){
<span class="nc bnc" id="L70" title="All 2 branches missed.">        for (Residuo residuo : residuos) {</span>
<span class="nc" id="L71">            System.out.println(residuo.toString());</span>
<span class="nc" id="L72">        }</span>
<span class="nc" id="L73">    }</span>
    
    //AQUÍ ABAJO GETTERS Y SETTERS
    public Scanner getEntrada() {
<span class="nc" id="L77">        return Entrada;</span>
    }

    public void setEntrada(Scanner Entrada) {
<span class="nc" id="L81">        this.Entrada = Entrada;</span>
<span class="nc" id="L82">    }</span>

    public int getId() {
<span class="nc" id="L85">        return id;</span>
    }

    public void setId(int id) {
<span class="nc" id="L89">        this.id = id;</span>
<span class="nc" id="L90">    }</span>

    public int getCapacidad() {
<span class="nc" id="L93">        return capacidad;</span>
    }

    public void setCapacidad(int capacidad) {
<span class="nc" id="L97">        this.capacidad = capacidad;</span>
<span class="nc" id="L98">    }</span>

    public String getNombre() {
<span class="nc" id="L101">        return nombre;</span>
    }

    public void setNombre(String nombre) {
<span class="nc" id="L105">        this.nombre = nombre;</span>
<span class="nc" id="L106">    }</span>

    public String getUbicacion() {
<span class="nc" id="L109">        return ubicacion;</span>
    }

    public void setUbicacion(String ubicacion) {
<span class="nc" id="L113">        this.ubicacion = ubicacion;</span>
<span class="nc" id="L114">    }</span>

    public LinkedHashSet&lt;Residuo&gt; getResiduos() {
<span class="nc" id="L117">        return residuos;</span>
    }

    public void setResiduos(LinkedHashSet&lt;Residuo&gt; residuos) {
<span class="nc" id="L121">        this.residuos = residuos;</span>
<span class="nc" id="L122">    }</span>
    
      public void conducir(String matricula){
        Vehiculo ve;
<span class="nc" id="L126">        ve=this.buscarVehiculo(matricula);</span>
<span class="nc" id="L127">        ve.setDisponible(false);</span>
        
<span class="nc" id="L129">    }</span>
    public void dejarVehiculo(String matricula){
          Vehiculo ve;
<span class="nc" id="L132">        ve=this.buscarVehiculo(matricula);</span>
<span class="nc" id="L133">        ve.setDisponible(true);</span>
        
<span class="nc" id="L135">    }</span>
    public void asignarConductorVehiculo(String nif,String matricula){
        Vehiculo ve;
<span class="nc" id="L138">        ve=this.buscarVehiculo(matricula);</span>
<span class="nc" id="L139">        ve.anhadirConductor((TCamionero)this.buscarTrabajador(nif));</span>
<span class="nc" id="L140">    }</span>
    
    
    public void asignaVehiculoConductor(String nif,String matricula){
        TCamionero cam;
<span class="nc" id="L145">        cam=(TCamionero)this.buscarTrabajador(nif);</span>
<span class="nc" id="L146">        cam.asignaCamion(this.buscarVehiculo(matricula));</span>
<span class="nc" id="L147">    }</span>
    
    
    public void anhadirVehiculo(String matricula, String modelo, int numeroAñosOperativo, int estado, boolean disponible){
<span class="nc" id="L151">        vehiculos.add(new Vehiculo(matricula, modelo, numeroAñosOperativo,estado, disponible));</span>
<span class="nc" id="L152">    }</span>
    public void anhadirtrabajadorObrero(String nif, String nombre, String apellidos, String telefono, String direccion, boolean esSupervisor){
<span class="nc" id="L154">        trabajadores.add(new TObrero(nif, nombre,apellidos,telefono, direccion,esSupervisor));</span>
<span class="nc" id="L155">    }</span>
    public void anhadirtrabajadorCamionero(boolean senior, String nif, String nombre, String apellidos, String telefono, String direccion){
<span class="nc" id="L157">        trabajadores.add(new TCamionero(senior,nif,nombre,apellidos,telefono, direccion));</span>
<span class="nc" id="L158">    }</span>
    public void anhadirtrabajadorOficina(String nif, String nombre, String apellidos, String telefono, String direccion, String departamento){
<span class="nc" id="L160">        trabajadores.add(new TOficiona(nif,nombre,apellidos,telefono,direccion,departamento));</span>
<span class="nc" id="L161">    }</span>
    public Trabajador buscarTrabajador(String nif){
<span class="nc" id="L163">        Trabajador trab=null;</span>
<span class="nc bnc" id="L164" title="All 2 branches missed.">        for (Trabajador trabajador : trabajadores) {</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">            if(trabajador.getNif().equalsIgnoreCase(nif)){</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">                if(trabajador instanceof TCamionero){</span>
<span class="nc" id="L167">                   trab= (TCamionero) trabajador;</span>
                }else{
<span class="nc bnc" id="L169" title="All 2 branches missed.">            if(trabajador instanceof TObrero){</span>
<span class="nc" id="L170">                     trab=(TObrero) trabajador;</span>
                }else{
<span class="nc" id="L172">               trab=(TOficiona) trabajador;</span>
            }
            }
            
            
        }
<span class="nc" id="L178">    }</span>
<span class="nc" id="L179">        return trab;</span>
}
    public Vehiculo buscarVehiculo(String matricula){
<span class="nc" id="L182">        Vehiculo vehi=null;</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">        for (Vehiculo vehiculo : vehiculos) {</span>
<span class="nc bnc" id="L184" title="All 2 branches missed.">            if(vehiculo.getMatricula().equalsIgnoreCase(matricula)){</span>
<span class="nc" id="L185">                vehi=vehiculo;</span>
            }
<span class="nc" id="L187">        }</span>
<span class="nc" id="L188">        return vehi;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>